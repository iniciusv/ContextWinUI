<UserControl
    x:Class="ContextWinUI.Features.GraphView.CodeViewerControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid x:Name="RootGrid" Background="{ThemeResource LayerFillColorDefaultBrush}">
        <ScrollViewer x:Name="ViewerScrollViewer"
                      HorizontalScrollBarVisibility="Auto"
                      VerticalScrollBarVisibility="Auto"
                      ZoomMode="Enabled" 
                      MinZoomFactor="0.5" 
                      MaxZoomFactor="4.0"
                      HorizontalContentAlignment="Left">

            <Grid Margin="0,0,20,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" MinWidth="40"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="LineNumbersDisplay"
                           Grid.Column="0"
                           FontFamily="Consolas, Courier New, Monospace"
                           FontSize="14"
                           
                           LineHeight="20"
                           LineStackingStrategy="BlockLineHeight"
                           
                           Foreground="{ThemeResource SystemControlForegroundBaseMediumLowBrush}"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Top"
                           TextAlignment="Right"
                           Margin="0,12,12,0"
                           IsHitTestVisible="False"/>

                <RichTextBlock x:Name="CodeViewer"
                               Grid.Column="1"
                               FontFamily="Consolas, Courier New, Monospace"
                               FontSize="14"
                               
                               LineHeight="20"
                               LineStackingStrategy="BlockLineHeight"
                               
                               IsTextSelectionEnabled="True"
                               Padding="0,12,12,12"
                               SelectionHighlightColor="{ThemeResource SystemControlHighlightAccentBrush}"/>
            </Grid>
        </ScrollViewer>

        <Button HorizontalAlignment="Right" 
                VerticalAlignment="Top"
                Margin="0,10,25,0" 
                Padding="8" 
                CornerRadius="4"
                Background="{ThemeResource LayerFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                Click="BtnCopy_Click"
                ToolTipService.ToolTip="Copiar todo o conteúdo">
            <FontIcon Glyph="&#xE8C8;" FontSize="16"/>
        </Button>
    </Grid>
</UserControl>